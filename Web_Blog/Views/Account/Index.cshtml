@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor

@model IEnumerable<Web_Blog.Models.Post>

@{
    ViewData["Title"] = "Home Page";
}
<style>
    .img-fluid {
        height: 400px;
    }

    .img-fluid-content {
        height: 250px;
    }

    .img-fluid-banner {
        height: 50px;
    }

    .img-fluid-recent {
        height: 70px;
    }

    .img-fluid-Adver {
        height: 300px;
    }

    .img-fluid-insta {
        height: 110px;
    }

    .page-item {
    }


    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    /* Style for the post container */
    .post {
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 5px;
        margin-bottom: 20px;
        padding: 20px;
        position: relative;
    }

    /* Style for the post header */
    .post-header {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
        position: relative;
    }


        /* Style for the profile picture */
        .post-header img {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            margin-right: 10px;
        }

    /* Style for the username */
    .username {
        font-size: 18px;
        font-weight: bold;
        margin-bottom: 5px;
    }

    /* Style for the timestamp */
    .timestamp {
        color: #666;
    }

    /* Style for the post content */
    .post-content {
        margin-bottom: 10px;
    }

    /* Style for the post actions */
    .post-actions button {
        background-color: #4267B2;
        color: #fff;
        border: none;
        border-radius: 5px;
        padding: 8px 15px;
        margin-right: 10px;
        cursor: pointer;
    }

        /* Hover effect for buttons */
        .post-actions button:hover {
            background-color: #314e87;
        }
</style>

<section class="section first-section">
    <div class="swiper mySwiper">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <div class="masonry-box post-media">
                    <img src="https://funix.edu.vn/wp-content/uploads/2021/08/funix-blog-cong-nghe-1.jpg" alt="" class="img-fluid">
                    <div class="shadoweffect">
                        <div class="shadow-desc">
                            <div class="blog-meta">
                                <span class="bg-aqua"><a asp-area="" asp-controller="PageDetails" asp-action="PageDetails" title="">Technology</a></span>
                                <h4><a asp-area="" asp-controller="PageDetails" asp-action="PageDetails" title="">How to choose high quality soil for your gardens</a></h4>
                                <small><a asp-area="" asp-controller="PageDetails" asp-action="PageDetails" title="">21 July, 2024</a></small>
                                <small><a href="#" title="">by PhúcHuynh</a></small>
                            </div><!-- end meta -->
                        </div><!-- end shadow-desc -->
                    </div><!-- end shadow -->
                </div><!-- end post-media -->
            </div><!-- end left-side -->

            <div class="swiper-slide">
                <div class="masonry-box post-media">
                    <img src="https://png.pngtree.com/thumb_back/fw800/background/20230505/pngtree-mature-woman-blogs-on-laptop-in-daytime-living-room-photo-image_51948704.jpg" alt="" class="img-fluid">
                    <div class="shadoweffect">
                        <div class="shadow-desc">
                            <div class="blog-meta">
                                <span class="bg-aqua"><a href="blog-category-01.html" title="">In Living</a></span>
                                <h4><a href="garden-single.html" title="">You can create a garden with furniture in your home</a></h4>
                                <small><a href="garden-single.html" title="">19 July, 2017</a></small>
                                <small><a href="#" title="">by Amanda</a></small>
                            </div><!-- end meta -->
                        </div><!-- end shadow-desc -->
                    </div><!-- end shadow -->
                </div><!-- end post-media -->
            </div><!-- end left-side -->

            <div class="swiper-slide">
                <div class="masonry-box post-media">
                    <img src="https://cdn1.123job.vn/123job/uploads/2020/03/26/2020_03_26______460d841b279b2a6a56b4ce8e7f2f1e40.jpg" alt="" class="img-fluid">
                    <div class="shadoweffect">
                        <div class="shadow-desc">
                            <div class="blog-meta">
                                <span class="bg-aqua"><a href="blog-category-01.html" title="">Tourism</a></span>
                                <h4><a href="garden-single.html" title="">The success of the 10 companies in the vegetable sector</a></h4>
                                <small><a href="garden-single.html" title="">03 July, 2017</a></small>
                                <small><a href="#" title="">by Jessica</a></small>
                            </div><!-- end meta -->
                        </div><!-- end shadow-desc -->
                    </div><!-- end shadow -->
                </div><!-- end post-media -->
            </div><!-- end right-side -->

            <div class="swiper-slide">
                <div class="masonry-box post-media">
                    <img src="https://giadinh.mediacdn.vn/2020/2/20/photo-1-158217006901780110517.jpg" alt="" class="img-fluid">
                    <div class="shadoweffect">
                        <div class="shadow-desc">
                            <div class="blog-meta">
                                <span class="bg-aqua"><a href="blog-category-01.html" title="">Fashion</a></span>
                                <h4><a href="garden-single.html" title="">You can create a garden with furniture in your home</a></h4>
                                <small><a href="garden-single.html" title="">19 July, 2017</a></small>
                                <small><a href="#" title="">by HaaJu</a></small>
                            </div><!-- end meta -->
                        </div><!-- end shadow-desc -->
                    </div><!-- end shadow -->
                </div><!-- end post-media -->
            </div><!-- end left-side -->


        </div><!-- end masonry -->
    </div>
</section>




<section class="section wb">
    <div class="container">
        <div class="row">
            <div class="col-lg-9 col-md-12 col-sm-12 col-xs-12">
                <div class="page-wrapper">
                    <div class="blog-list clearfix">
                        <div class="container">
                            <div id="newPosts"></div>
                            <!-- Danh sách bài viết hiện tại từ server -->
                            @if (Model != null && Model.Any())
                            {
                                @foreach (var post in Model)
                                {
                                    <div class="post">
                                        <div class="post-header">
                                            <img src="/imgbyHuynh/anh-2.jpg" alt="Profile Picture">
                                            <div class="post-header-info">
                                                <h3 class="category">@post.PostedBy</h3>
                                                <p>Ngày đăng: @post.CreatedAt.ToString()</p>

                                            </div>
                                            <div style=" position: absolute;top:10px;right: 10px;" class="nav-link color-green-hover category-toggle">
                                                <i class="fa-solid fa-bars toggle-button"></i>
                                            </div>
                                            <ul class="dropdown-menu1">
                                                <li>
                                                    @if (HttpContextAccessor.HttpContext.Session.GetInt32("idUser") == post.idUser)
                                                    {
                                                        <a asp-controller="Account" asp-action="Edit" asp-route-id="@post.PostID">
                                                            <i class="fa-solid fa-pen-to-square"></i> Edit Post
                                                        </a>
                                                    }
                                                </li>


                                                <li>
                                                    @if (HttpContextAccessor.HttpContext.Session.GetInt32("idUser") == post.idUser)
                                                    {
                                                        <a asp-controller="Account" asp-action="DeleteConfirmed" asp-route-id="@post.PostID" onclick="return confirm('Are you sure you want to delete this post?');">
                                                            <i class="fa-solid fa-trash"></i> Delete Post
                                                        </a>
                                                    }
                                                </li>
                                            </ul>
                                        </div>
                                        <hr />
                                        <div class="post-content">
                                            <h2 class="title">@post.Title</h2>
                                            <p>@post.Content</p>
                                            @if (!string.IsNullOrEmpty(post.ImageBase64))
                                            {
                                                <img style=" max-width: 100%;   height: auto;display: block; margin: 0 auto;" src="data:image/jpeg;base64,@post.ImageBase64" alt="Post Image" />
                                            }
                                            else if (!string.IsNullOrEmpty(post.ImageURL))
                                            {
                                                <img style="max-width: 100%;   height: auto;display: block; margin: 0 auto;" src="@post.ImageURL" alt="Post Image" />
                                            }


                                        </div>
                                        <hr />
                                        <div class="post-actions">
                                            <!-- Hiển thị các nút hành động -->
                                            <button class="like-btn">Like</button>
                                            <button class="comment-btn">Comment</button>
                                            <button class="share-btn">Share</button>
                                        </div>
                                    </div>
                                }
                            }

                            <!-- Danh sách bài viết mới -->

                        </div>

                    </div><!-- end blog-list -->
                </div>


                <hr class="invis">

                <div class="row">
                    <div class="col-md-12">
                        <nav aria-label="Page navigation">
                            <ul class="pagination justify-content-start">
                                <li class="page-item"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#">Next</a>
                                </li>
                            </ul>
                        </nav>
                    </div><!-- end col -->
                </div><!-- end row -->
            </div><!-- end col -->

            <div class="col-lg-3 col-md-12 col-sm-12 col-xs-12">
                <div class="sidebar">
                    <div class="widget">
                        <h2 class="widget-title">Search</h2>
                        <form class="form-inline search-form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search on the site">
                            </div>
                            <button type="submit" class="btn btn-primary"><i class="fa fa-search"></i></button>
                        </form>
                    </div><!-- end widget -->

                    <div class="widget">
                        <h2 class="widget-title">Recent Posts</h2>
                        <div class="blog-list-widget">
                            <div class="list-group">
                                <a href="garden-single.html" class="list-group-item list-group-item-action flex-column align-items-start">
                                    <div class="w-100 justify-content-between">
                                        <img src="~/upload/garden_sq_09.jpg" alt="" class="img-fluid-recent float-left">
                                        <h5 class="mb-1">5 Beautiful buildings you need to before dying</h5>
                                        <small>12 Jan, 2016</small>
                                    </div>
                                </a>

                                <a href="garden-single.html" class="list-group-item list-group-item-action flex-column align-items-start">
                                    <div class="w-100 justify-content-between">
                                        <img src="~/upload/garden_sq_06.jpg" alt="" class="img-fluid-recent float-left">
                                        <h5 class="mb-1">Let's make an introduction for creative life</h5>
                                        <small>11 Jan, 2016</small>
                                    </div>
                                </a>

                                <a href="garden-single.html" class="list-group-item list-group-item-action flex-column align-items-start">
                                    <div class="w-100 last-item justify-content-between">
                                        <img src="~/upload/garden_sq_02.jpg" alt="" class="img-fluid-recent float-left">
                                        <h5 class="mb-1">Did you see the most beautiful sea in the world?</h5>
                                        <small>07 Jan, 2016</small>
                                    </div>
                                </a>
                            </div>
                        </div><!-- end blog-list -->
                    </div><!-- end widget -->

                    <div class="widget">
                        <h2 class="widget-title">Advertising</h2>
                        <div class="banner-spot clearfix">
                            <div class="banner-img">
                                <img src="~/upload/banner_04.jpg" alt="" class="img-fluid-Adver">
                            </div><!-- end banner-img -->
                        </div><!-- end banner -->
                    </div><!-- end widget -->

                    <div class="widget">
                        <h2 class="widget-title">Instagram Feed</h2>
                        <div class="instagram-wrapper clearfix">
                            <a href="#"> <img src="~/css/upload/doan_van_hau_-_vie_vs_jpn_-_afc_asian_cup_2019.jpg" class="img-fluid-insta" /></a>
                            <a href="#"> <img src="~/css/upload/doan_van_hau_-_vie_vs_jpn_-_afc_asian_cup_2019.jpg" class="img-fluid-insta" /></a>
                            <a href="#"> <img src="~/css/upload/doan_van_hau_-_vie_vs_jpn_-_afc_asian_cup_2019.jpg" class="img-fluid-insta" /></a>
                            <a href="#"> <img src="~/css/upload/doan_van_hau_-_vie_vs_jpn_-_afc_asian_cup_2019.jpg" class="img-fluid-insta" /></a>
                            <a href="#"> <img src="~/css/upload/doan_van_hau_-_vie_vs_jpn_-_afc_asian_cup_2019.jpg" class="img-fluid-insta" /></a>
                            <a href="#"> <img src="~/css/upload/doan_van_hau_-_vie_vs_jpn_-_afc_asian_cup_2019.jpg" class="img-fluid-insta" /></a>
                            <a href="#"> <img src="~/css/upload/doan_van_hau_-_vie_vs_jpn_-_afc_asian_cup_2019.jpg" class="img-fluid-insta" /></a>
                            <a href="#"> <img src="~/css/upload/doan_van_hau_-_vie_vs_jpn_-_afc_asian_cup_2019.jpg" class="img-fluid-insta" /></a>
                            <a href="#"> <img src="~/css/upload/doan_van_hau_-_vie_vs_jpn_-_afc_asian_cup_2019.jpg" class="img-fluid-insta" /></a>
                        </div><!-- end Instagram wrapper -->
                    </div><!-- end widget -->

                    <div class="widget">
                        <h2 class="widget-title">Popular Categories</h2>
                        <div class="link-widget">
                            <ul>
                                <li><a href="#">Gardening <span>(21)</span></a></li>
                                <li><a href="#">Outdoor Living <span>(15)</span></a></li>
                                <li><a href="#">Indoor Living <span>(31)</span></a></li>
                                <li><a href="#">Shopping Guides <span>(22)</span></a></li>
                                <li><a href="#">Pool Design <span>(66)</span></a></li>
                            </ul>
                        </div><!-- end link-widget -->
                    </div><!-- end widget -->
                </div><!-- end sidebar -->
            </div><!-- end col -->  */
        </div><!-- end row -->
    </div><!-- end container -->
</section>




